'use strict';
/**
 * 
 * @param {*} email 
 * @returns 
 */

function cov_399vupmve() {
  var path = "H:\\Michele\\Universit\xE0\\Magistrale Polito\\Software Engineering II\\SPG\\SPG\\client\\src\\api\\user.js";
  var hash = "9a0f723ae2a0e32d4d2346dff0c207cc697c924e";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "H:\\Michele\\Universit\xE0\\Magistrale Polito\\Software Engineering II\\SPG\\SPG\\client\\src\\api\\user.js",
    statementMap: {
      "0": {
        start: {
          line: 9,
          column: 18
        },
        end: {
          line: 9,
          column: 51
        }
      },
      "1": {
        start: {
          line: 10,
          column: 22
        },
        end: {
          line: 10,
          column: 43
        }
      },
      "2": {
        start: {
          line: 11,
          column: 1
        },
        end: {
          line: 14,
          column: 25
        }
      },
      "3": {
        start: {
          line: 12,
          column: 2
        },
        end: {
          line: 12,
          column: 22
        }
      },
      "4": {
        start: {
          line: 14,
          column: 6
        },
        end: {
          line: 14,
          column: 25
        }
      },
      "5": {
        start: {
          line: 19,
          column: 4
        },
        end: {
          line: 32,
          column: 7
        }
      },
      "6": {
        start: {
          line: 20,
          column: 8
        },
        end: {
          line: 31,
          column: 100
        }
      },
      "7": {
        start: {
          line: 23,
          column: 12
        },
        end: {
          line: 30,
          column: 13
        }
      },
      "8": {
        start: {
          line: 24,
          column: 16
        },
        end: {
          line: 24,
          column: 30
        }
      },
      "9": {
        start: {
          line: 27,
          column: 16
        },
        end: {
          line: 29,
          column: 125
        }
      },
      "10": {
        start: {
          line: 28,
          column: 37
        },
        end: {
          line: 28,
          column: 49
        }
      },
      "11": {
        start: {
          line: 29,
          column: 38
        },
        end: {
          line: 29,
          column: 121
        }
      },
      "12": {
        start: {
          line: 31,
          column: 28
        },
        end: {
          line: 31,
          column: 96
        }
      },
      "13": {
        start: {
          line: 36,
          column: 16
        },
        end: {
          line: 39,
          column: 1
        }
      }
    },
    fnMap: {
      "0": {
        name: "getUserId",
        decl: {
          start: {
            line: 8,
            column: 16
          },
          end: {
            line: 8,
            column: 25
          }
        },
        loc: {
          start: {
            line: 8,
            column: 33
          },
          end: {
            line: 15,
            column: 1
          }
        },
        line: 8
      },
      "1": {
        name: "deleteUser",
        decl: {
          start: {
            line: 18,
            column: 15
          },
          end: {
            line: 18,
            column: 25
          }
        },
        loc: {
          start: {
            line: 18,
            column: 33
          },
          end: {
            line: 33,
            column: 1
          }
        },
        line: 18
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 19,
            column: 23
          },
          end: {
            line: 19,
            column: 24
          }
        },
        loc: {
          start: {
            line: 19,
            column: 44
          },
          end: {
            line: 32,
            column: 5
          }
        },
        line: 19
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 22,
            column: 16
          },
          end: {
            line: 22,
            column: 17
          }
        },
        loc: {
          start: {
            line: 22,
            column: 30
          },
          end: {
            line: 31,
            column: 9
          }
        },
        line: 22
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 28,
            column: 26
          },
          end: {
            line: 28,
            column: 27
          }
        },
        loc: {
          start: {
            line: 28,
            column: 35
          },
          end: {
            line: 28,
            column: 51
          }
        },
        line: 28
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 29,
            column: 27
          },
          end: {
            line: 29,
            column: 28
          }
        },
        loc: {
          start: {
            line: 29,
            column: 36
          },
          end: {
            line: 29,
            column: 123
          }
        },
        line: 29
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 31,
            column: 17
          },
          end: {
            line: 31,
            column: 18
          }
        },
        loc: {
          start: {
            line: 31,
            column: 26
          },
          end: {
            line: 31,
            column: 98
          }
        },
        line: 31
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 11,
            column: 1
          },
          end: {
            line: 14,
            column: 25
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 11,
            column: 1
          },
          end: {
            line: 14,
            column: 25
          }
        }, {
          start: {
            line: 11,
            column: 1
          },
          end: {
            line: 14,
            column: 25
          }
        }],
        line: 11
      },
      "1": {
        loc: {
          start: {
            line: 23,
            column: 12
          },
          end: {
            line: 30,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 23,
            column: 12
          },
          end: {
            line: 30,
            column: 13
          }
        }, {
          start: {
            line: 23,
            column: 12
          },
          end: {
            line: 30,
            column: 13
          }
        }],
        line: 23
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "9a0f723ae2a0e32d4d2346dff0c207cc697c924e"
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }

  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_399vupmve = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}

cov_399vupmve();

async function getUserId(email) {
  cov_399vupmve().f[0]++;
  const response = (cov_399vupmve().s[0]++, await fetch('api/users/' + email));
  const respondeBody = (cov_399vupmve().s[1]++, await response.json());
  cov_399vupmve().s[2]++;

  if (response.ok) {
    cov_399vupmve().b[0][0]++;
    cov_399vupmve().s[3]++;
    return respondeBody;
  } else {
    cov_399vupmve().b[0][1]++;
    cov_399vupmve().s[4]++;
    throw respondeBody;
  }
} //Delete user


async function deleteUser(email) {
  cov_399vupmve().f[1]++;
  cov_399vupmve().s[5]++;
  return new Promise((resolve, reject) => {
    cov_399vupmve().f[2]++;
    cov_399vupmve().s[6]++;
    fetch('/api/clients/' + email, {
      method: 'DELETE'
    }).then(response => {
      cov_399vupmve().f[3]++;
      cov_399vupmve().s[7]++;

      if (response.ok) {
        cov_399vupmve().b[1][0]++;
        cov_399vupmve().s[8]++;
        resolve(null);
      } else {
        cov_399vupmve().b[1][1]++;
        cov_399vupmve().s[9]++;
        // analyze the cause of error
        response.json().then(obj => {
          cov_399vupmve().f[4]++;
          cov_399vupmve().s[10]++;
          reject(obj);
        }) // error msg in the response body
        .catch(err => {
          cov_399vupmve().f[5]++;
          cov_399vupmve().s[11]++;
          reject({
            errors: [{
              param: "Application",
              msg: "Cannot parse server response"
            }]
          });
        }); // something else
      }
    }).catch(err => {
      cov_399vupmve().f[6]++;
      cov_399vupmve().s[12]++;
      reject({
        errors: [{
          param: "Server",
          msg: "Cannot communicate"
        }]
      });
    }); // connection errors
  });
}

const userAPI = (cov_399vupmve().s[13]++, {
  getUserId,
  deleteUser
});
export default userAPI;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiZ2V0VXNlcklkIiwiZW1haWwiLCJyZXNwb25zZSIsImZldGNoIiwicmVzcG9uZGVCb2R5IiwianNvbiIsIm9rIiwiZGVsZXRlVXNlciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwibWV0aG9kIiwidGhlbiIsIm9iaiIsImNhdGNoIiwiZXJyIiwiZXJyb3JzIiwicGFyYW0iLCJtc2ciLCJ1c2VyQVBJIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVNZOzs7Ozs7Ozs7O0FBUlgsZUFBZUEsU0FBZixDQUF5QkMsS0FBekIsRUFBZ0M7QUFBQTtBQUNoQyxRQUFNQyxRQUFRLDRCQUFHLE1BQU1DLEtBQUssQ0FBQyxlQUFlRixLQUFoQixDQUFkLENBQWQ7QUFDQSxRQUFNRyxZQUFZLDRCQUFHLE1BQU1GLFFBQVEsQ0FBQ0csSUFBVCxFQUFULENBQWxCO0FBRmdDOztBQUdoQyxNQUFJSCxRQUFRLENBQUNJLEVBQWIsRUFBaUI7QUFBQTtBQUFBO0FBQ2hCLFdBQU9GLFlBQVA7QUFDQSxHQUZELE1BR0s7QUFBQTtBQUFBO0FBQUEsVUFBTUEsWUFBTjtBQUFtQjtBQUN4QixDLENBRUQ7OztBQUNBLGVBQWVHLFVBQWYsQ0FBMEJOLEtBQTFCLEVBQWlDO0FBQUE7QUFBQTtBQUM3QixTQUFPLElBQUlPLE9BQUosQ0FBWSxDQUFDQyxPQUFELEVBQVVDLE1BQVYsS0FBcUI7QUFBQTtBQUFBO0FBQ3BDUCxJQUFBQSxLQUFLLENBQUMsa0JBQWtCRixLQUFuQixFQUEwQjtBQUMzQlUsTUFBQUEsTUFBTSxFQUFFO0FBRG1CLEtBQTFCLENBQUwsQ0FFR0MsSUFGSCxDQUVTVixRQUFELElBQWM7QUFBQTtBQUFBOztBQUNsQixVQUFJQSxRQUFRLENBQUNJLEVBQWIsRUFBaUI7QUFBQTtBQUFBO0FBQ2JHLFFBQUFBLE9BQU8sQ0FBQyxJQUFELENBQVA7QUFDSCxPQUZELE1BRU87QUFBQTtBQUFBO0FBQ0g7QUFDQVAsUUFBQUEsUUFBUSxDQUFDRyxJQUFULEdBQ0tPLElBREwsQ0FDV0MsR0FBRCxJQUFTO0FBQUE7QUFBQTtBQUFFSCxVQUFBQSxNQUFNLENBQUNHLEdBQUQsQ0FBTjtBQUFjLFNBRG5DLEVBQ3FDO0FBRHJDLFNBRUtDLEtBRkwsQ0FFWUMsR0FBRCxJQUFTO0FBQUE7QUFBQTtBQUFFTCxVQUFBQSxNQUFNLENBQUM7QUFBRU0sWUFBQUEsTUFBTSxFQUFFLENBQUM7QUFBRUMsY0FBQUEsS0FBSyxFQUFFLGFBQVQ7QUFBd0JDLGNBQUFBLEdBQUcsRUFBRTtBQUE3QixhQUFEO0FBQVYsV0FBRCxDQUFOO0FBQXFGLFNBRjNHLEVBRkcsQ0FJMkc7QUFDakg7QUFDSixLQVhELEVBV0dKLEtBWEgsQ0FXVUMsR0FBRCxJQUFTO0FBQUE7QUFBQTtBQUFFTCxNQUFBQSxNQUFNLENBQUM7QUFBRU0sUUFBQUEsTUFBTSxFQUFFLENBQUM7QUFBRUMsVUFBQUEsS0FBSyxFQUFFLFFBQVQ7QUFBbUJDLFVBQUFBLEdBQUcsRUFBRTtBQUF4QixTQUFEO0FBQVYsT0FBRCxDQUFOO0FBQXNFLEtBWDFGLEVBRG9DLENBWXlEO0FBQ2hHLEdBYk0sQ0FBUDtBQWNIOztBQUdELE1BQU1DLE9BQU8sNkJBQUc7QUFDZm5CLEVBQUFBLFNBRGU7QUFFZk8sRUFBQUE7QUFGZSxDQUFILENBQWI7QUFLQSxlQUFlWSxPQUFmIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xyXG5cclxuLyoqXHJcbiAqIFxyXG4gKiBAcGFyYW0geyp9IGVtYWlsIFxyXG4gKiBAcmV0dXJucyBcclxuICovXHJcbiBhc3luYyBmdW5jdGlvbiBnZXRVc2VySWQoZW1haWwpIHtcclxuXHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCdhcGkvdXNlcnMvJyArIGVtYWlsKTtcclxuXHRjb25zdCByZXNwb25kZUJvZHkgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblx0aWYgKHJlc3BvbnNlLm9rKSB7XHJcblx0XHRyZXR1cm4gcmVzcG9uZGVCb2R5O1xyXG5cdH1cclxuXHRlbHNlIHRocm93IHJlc3BvbmRlQm9keTtcclxufVxyXG5cclxuLy9EZWxldGUgdXNlclxyXG5hc3luYyBmdW5jdGlvbiBkZWxldGVVc2VyKGVtYWlsKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIGZldGNoKCcvYXBpL2NsaWVudHMvJyArIGVtYWlsLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKG51bGwpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gYW5hbHl6ZSB0aGUgY2F1c2Ugb2YgZXJyb3JcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmpzb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChvYmopID0+IHsgcmVqZWN0KG9iaik7IH0pIC8vIGVycm9yIG1zZyBpbiB0aGUgcmVzcG9uc2UgYm9keVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7IHJlamVjdCh7IGVycm9yczogW3sgcGFyYW06IFwiQXBwbGljYXRpb25cIiwgbXNnOiBcIkNhbm5vdCBwYXJzZSBzZXJ2ZXIgcmVzcG9uc2VcIiB9XSB9KSB9KTsgLy8gc29tZXRoaW5nIGVsc2VcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHsgcmVqZWN0KHsgZXJyb3JzOiBbeyBwYXJhbTogXCJTZXJ2ZXJcIiwgbXNnOiBcIkNhbm5vdCBjb21tdW5pY2F0ZVwiIH1dIH0pIH0pOyAvLyBjb25uZWN0aW9uIGVycm9yc1xyXG4gICAgfSk7XHJcbn1cclxuXHJcblxyXG5jb25zdCB1c2VyQVBJID0ge1xyXG5cdGdldFVzZXJJZCxcclxuXHRkZWxldGVVc2VyXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHVzZXJBUEk7Il19